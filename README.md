## About
De novo transcriptome assembly of RNA-Seq data is an important problem. Studies of novel model organisms with a poorly annotated reference sequence can make use of different tools that have been proposed for de-novo transcriptome assembly. While successful, current tools rarely represent integrated solutions that can cope with large and diverse data sets. SOS pipeline is an integrated solution for the transcriptome assembly consisting of read error correction, read filtering, multi-k parameter optimized de-novo transcriptome assembly and transcript level expression computation. Currently, it supports the following algorithms:
1.  Error correction: SEECER (can be downloaded and installed from the homepage(http://sb.cs.cmu.edu/seecer/))
2.  Read normalization: ORNA (can be downloaded and installed from https://github.com/SchulzLab/ORNA)
3.  De novo transcriptome assembler: SOS currently supports four assembler namely: \\
    a. TransABySS 
    b. TransLIG
    c. SOAPdenovo-Trans
    d. Oases
4.  Transcript level expression computation: Salmon (can be downloaded and installed from https://github.com/COMBINE-lab/salmon)  

##### Contact
For questions or suggestions regarding SOS please contact

* Dilip A Durai (ddurai_at_contact.mmci.uni-saarland.de)
* Marcel H Schulz (mschulz_at_mmci.uni-saarland.de)


##### Version
Version 0.2

## Requirements
for SOS:

1.	64-bit linux operating system. 
2.	A physical memory of 12 GB or higher is recommended (more is always better!)
3.	[Jellyfish](http://www.cbcb.umd.edu/software/jellyfish/) version 2.0  
4.	GNU Scientific Library (SEECER)
5.      Any version of [g++](gcc.gnu.org) >= 4.7 (ORNA and Salmon)

Note: Requirements may change depending upon the assembler used in the pipeline


## Download
The pipeline can be downloaded using the following command:

    git clone https://github.com/SchulzLab/SOS

The downloaded folder should have the following files:

* Snakemake file
* Sample config file for snakemake: config.yaml
* install_script.py	
* export.sh
* A folder consisting of sample data: Sample_Data
* A scripts folder consisting of supporting scripts: scripts

## Installation

1.	After downloading the SOS distribution, change into the directory
		cd SOS

2.	Then run the python script install_script.py to install the softwares (SEECER,OASES and SALMON)
	```
		python install_script.py -f <destination_folder>
	```
	This should install SEECER, OASES, ORNA and SALMON in the provided destination folder. Additional assembly algorithms can be downloaded seperately.  
	Note: Running the script is optional. The users can download and install the softwares seperately  

## Config file
The config.txt should have the following configuration
```
#General Parameters
input: input_files //Two comma seperated files if input is paired end data
outdir: Output directory to store the results 
kmer: kmer to be used for error correction, normalization and assembly

#Read Characteristics
type: single or paired 
readlength: 101  
inslength: 200

#Seecer Parameters (See seecer manual for more details)
seecertmp: path to temp folder for seecer intermediate files
jellyfish: path to jellyfish
scriptsfolder: path to the scripts folder of seecer
seecerdir: path to the bin folder of seecer
seecerkmer: a seecer kmer if different than the kmer from general parameters

#ORNA parameters
ornabase: Base parameter of ORNA (set to 1.7 by default)

#KREATION Parameters (See KREATION manual for more details)
kstep: step size for kmer parameter of KREATION (set to 2 by default)
kthreshold: Threshold parameter of seecer (set to 0.01 by default)
kpname: Assembly algorithm to be used with KREATION (Current supported assemblers: Oases, TransABySS, TransLiG and SOAPdenovotrans)
kpadditional: Additional commands to be used with KREATION 
```

## Usage


###### Output Folder
The output folder will have a folders generated by KREATION runs namely - Assembly, Cluster and Final(containing the final assembly result). Additionally, the output folder would have four more folders namely: 
1.	CorrectedReads which contains the error corrected reads.
2.	NormalizedReads which contains the normalized reads from ORNA. 
3.	Index which contains index files used by Salmon. 
4.	Quant file which contains results from expression estimation for assembled transcripts.
